import{d as v,r as w,s as I,c as t,b as h,F as g,q as m,u as H,B as M,A,o,t as i,f as D}from"./index-444e02b2.js";import{a as O}from"./admin-eacde0fa.js";const B={class:"container py-4 mt-3"},R={class:"mb-5 me-5 d-flex flex-row-reverse bd-highlight"},S=["value"],q=M('<ul class="list-group list-group-horizontal"><li id="date" class="list-group-item border-dark">日期</li><li id="checkIn" class="list-group-item border-dark">上班時間</li><li id="checkOut" class="list-group-item border-dark">下班時間</li><li id="absense" class="list-group-item border-dark">缺勤紀錄</li><li id="descriptions" class="list-group-item border-dark">備註</li></ul>',1),N={key:0,id:"date",class:"list-group-item text-danger"},z={key:1,id:"date",class:"list-group-item"},C={key:2,id:"checkIn",class:"list-group-item text-danger"},F={key:3,id:"checkIn",class:"list-group-item"},L={key:4,id:"checkOut",class:"list-group-item text-danger"},U={key:5,id:"checkOut",class:"list-group-item"},V={key:6,id:"absense",class:"list-group-item text-danger"},E={key:7,id:"absense",class:"list-group-item text-warning"},P={key:8,id:"absense",class:"list-group-item text-secondary"},j={key:9,id:"descriptions",class:"list-group-item text-danger"},G={key:10,id:"descriptions",class:"list-group-item"},T=v({__name:"AttendanceRecord",setup(J){const p=D(),a=A(),k=Array.from({length:12}).map((r,s)=>s+1),_=r=>{p.push({name:"attendant",query:{month:r.target.value}})};function d(r){const s=new Date(r);let e="",c=s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1,l=s.getDate()<10?"0"+s.getDate():s.getDate(),f=s.getHours()<10?"0"+s.getHours():s.getHours(),b=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),x=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return e=c+"/"+l+" "+f+":"+b+":"+x,e}const n=w([]);async function u({month:r}){try{const s=await O.getUserAttendant({month:r,userId:Number(a.params.id)});n.value=s.data,n.value.map(e=>{const c=e.checkIn,l=e.checkOut;c&&(e.checkIn=d(c)),l&&(e.checkOut=d(l))})}catch(s){console.log("error",s)}}const{month:y}=a.query;return u({month:y}),I((r,s)=>{const{month:e}=r.query;u({month:e})}),(r,s)=>(o(),t("div",B,[h("div",R,[h("select",{class:"btn btn-secondary",role:"button",id:"dropdownMenuLink",onChange:s[0]||(s[0]=e=>_(e))},[(o(!0),t(g,null,m(H(k),e=>(o(),t("option",{key:e,value:e},i(e)+" 月 ",9,S))),128))],32)]),q,(o(!0),t(g,null,m(n.value,e=>(o(),t("ul",{class:"list-group list-group-horizontal",key:e.id},[e.isHoliday?(o(),t("li",N,i(e.date)+" ("+i(e.week)+") ",1)):(o(),t("li",z,i(e.date)+" ("+i(e.week)+")",1)),e.isHoliday?(o(),t("li",C,i(e.checkIn),1)):(o(),t("li",F,i(e.checkIn),1)),e.isHoliday?(o(),t("li",L,i(e.checkOut),1)):(o(),t("li",U,i(e.checkOut),1)),e.isHoliday?(o(),t("li",V)):e.isAbsense?(o(),t("li",E," 缺勤 ")):(o(),t("li",P," 未上班 ")),e.isHoliday?(o(),t("li",j,i(e.description),1)):(o(),t("li",G,i(e.description),1))]))),128))]))}});export{T as default};
