import{a as g,d as h,u as v,r as l,b as w,o as x,c as y,e,w as S,f as d,v as m,g as u,t as k,T as p}from"./index-ad6355ca.js";const I={signIn({email:c,password:r}){return g.post("/users/signin",{email:c,password:r})}},P={class:"container py-5"},B={class:"card card-body mx-auto d-flex"},D=["onSubmit"],E=e("div",{class:"text-center mb-4"},[e("h1",{class:"h3 mb-3 mt-4 font-weight-normal fs-1"},"Login")],-1),M={class:"form-label-group mb-3 ms-5 mt-5 d-flex align-items-center fs-5"},T=e("label",{for:"email",class:"me-5"},"Email ",-1),U={class:"input"},V={class:"form-label-group mb-5 mt-4 ms-2 d-flex align-items-center fs-5"},q=e("label",{for:"password",class:"me-5"},"Password",-1),C={class:"input"},Y={class:"d-grid justify-content-center align-self-center mt-5"},j=["disabled"],z={class:"mt-5 mb-3 text-muted text-center"},F=h({__name:"SignIn",setup(c){const r=v(),o=l(""),a=l(""),f=w(),_=new Date().getFullYear();let n=l(!1);const b=async()=>{try{if(!o.value||!a.value){p.fire({icon:"warning",title:"請填寫這個欄位。"});return}n.value=!0;const{data:s}=await I.signIn({email:o.value,password:a.value});if(s.status==="error")throw new Error(s.message);localStorage.setItem("token",s.token),f.commit("setCurrentUser",s.user),r.push("/mainpage")}catch(s){const t=s.response.data;p.fire({icon:"error",title:t.message}),n.value=!1}};return(s,t)=>(x(),y("div",P,[e("div",B,[e("form",{class:"w-100",onSubmit:S(b,["prevent","stop"])},[E,e("div",M,[T,e("div",U,[d(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=i=>o.value=i),name:"email",type:"email",class:"form-control",placeholder:"email",autocomplete:"username",required:"",autofocus:""},null,512),[[m,o.value]])])]),e("div",V,[q,e("div",C,[d(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=i=>a.value=i),name:"password",type:"password",class:"form-control",placeholder:"Password",autocomplete:"current-password",required:""},null,512),[[m,a.value]])])]),e("div",Y,[e("button",{class:"btn btn-lg btn-primary btn-block mb-3",type:"submit",disabled:u(n)}," Submit ",8,j)]),e("p",z,"© 2022-"+k(u(_)),1)],40,D)])]))}});export{F as default};
